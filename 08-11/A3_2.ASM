TITLE A3_2:ASSIGNMENT_3_QUES_2
.MODEL SMALL
.STACK 100H
.DATA
    MSG DB 0DH,0AH,'$'
	ENTR DB 'ENTER A HEX NUMBER$'
	MSG2 DB 'NUMBER IN HEX: $'
.CODE
MAIN PROC
        MOV AX,@DATA
        MOV DS,AX
	MOV AH,9
	LEA DX,ENTR
	INT 21H
	LEA DX,MSG
	INT 21H
	CALL INHEX
	MOV AH,9
	LEA DX,MSG2
	INT 21H
	CALL OUTHEX
	MOV AH,4CH
	INT 21H
MAIN ENDP

;PROCEDURE TO TAKE INPUT IN HEXADECIMAL FORMAT IN BX
INHEX PROC
	MOV AH,2
	MOV DL,'?'
	INT 21H
	XOR BX,BX
	MOV CL,4
	MOV AH,1
	INT 21H
	WHILE1:
		CMP AL,0DH
		JE END1
		CMP AL,39H
		JG LETTER
		AND AL,0FH
		JMP S1
		LETTER:
			SUB AL,37H
		S1:
			SHL BX,CL
			OR BL,AL
			INT 21H
			JMP WHILE1
	END1:
		RET
INHEX ENDP

;PROCDEDURE TO OUTPUT THE NUMBER IN BX IN HEXADECIMAL FORMAT
OUTHEX PROC
	PUSH BX
	MOV AH,2
	MOV CL,4
	MOV CH,4
	L1:
		CMP CH,0
		JE END2
		MOV DL,BH
		SHR DL,CL
		CMP DL,10
		JGE LETR
		OR DL,30H
		JMP L2
		LETR:
			ADD DL,37H
		L2:
			INT 21H
			ROL BX,CL
			DEC CH
			JMP L1
	END2:
		POP BX
		RET
OUTHEX ENDP
END MAIN